import{u as F,r as i,j as e,H as T,a as z}from"./app-CDLrXDSJ.js";import{A as H}from"./app-layout-RlSBJbLE.js";import{B as j}from"./button-DkAxeODS.js";import{I as d}from"./input-kG73NwrJ.js";import{L as l}from"./label-Bm7htFpx.js";import{T as f}from"./textarea-D4YVHxtD.js";import{S as y,a as N,b as C,c as _,d as u}from"./select-CCjrtCIO.js";import{S as m}from"./switch-CI0OpXgl.js";import{C as I,a as $,b as B,c as K}from"./card-DSp6dVJs.js";/* empty css            */import"./index-VGP26jel.js";import"./index-DMbkFXFE.js";import"./index-BJIqLsx3.js";import"./check-Cyaeh_xi.js";function te({localization:r,languages:x=null,groups:p=null}){const b=[{title:"Localizations",href:"/localizations"},{title:"Edit",href:`/localizations/${r.id}/edit`}],{data:t,setData:c,processing:h,errors:a}=F({language:r.language,group:r.group||"__none__",key:r.key,value:r.value,description:r.description||"",is_active:r.is_active}),k=Array.isArray(x)?x:[],S=Array.isArray(p)?p:[],[g,L]=i.useState(""),[o,w]=i.useState(!1),[v,E]=i.useState(""),[n,U]=i.useState(!1),A=s=>{s.preventDefault();const D={language:o?g.trim():t.language,group:n?v.trim():t.group==="__none__"?"":t.group,key:t.key.trim(),value:t.value.trim(),description:t.description.trim(),is_active:t.is_active};z.put(`/localizations/${r.id}`,D,{onSuccess:()=>{console.log("Localization updated successfully")},onError:V=>{console.error("Validation errors:",V)}})},G=s=>{c("is_active",s===!0)};return e.jsxs(H,{breadcrumbs:b,children:[e.jsx(T,{title:`Edit Localization - ${r.key}`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:[e.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-between sm:items-center",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Edit Localization"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Update the translation entry details"})]})}),e.jsxs(I,{className:"overflow-hidden max-w-2xl",children:[e.jsx($,{className:"px-6 py-4 border-b",children:e.jsx(B,{className:"text-lg font-semibold",children:"Localization Details"})}),e.jsx(K,{className:"p-6",children:e.jsxs("form",{onSubmit:A,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{children:"Language Code"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{checked:o,onCheckedChange:w}),e.jsx(l,{children:"Use custom language"})]}),o?e.jsx(d,{type:"text",placeholder:"e.g., en, ar, fr",value:g,onChange:s=>L(s.target.value),className:a.language?"border-destructive":""}):e.jsxs(y,{value:t.language,onValueChange:s=>c("language",s),children:[e.jsx(N,{className:a.language?"border-destructive":"",children:e.jsx(C,{placeholder:"Select language"})}),e.jsx(_,{children:k.map(s=>e.jsx(u,{value:s,children:s.toUpperCase()},s))})]})]}),a.language&&e.jsx("p",{className:"text-sm text-destructive",children:a.language})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{children:"Group"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{checked:n,onCheckedChange:U}),e.jsx(l,{children:"Use custom group"})]}),n?e.jsx(d,{type:"text",placeholder:"Enter custom group name",value:v,onChange:s=>E(s.target.value),className:a.group?"border-destructive":""}):e.jsxs(y,{value:t.group||"__none__",onValueChange:s=>c("group",s),children:[e.jsx(N,{className:a.group?"border-destructive":"",children:e.jsx(C,{placeholder:"Select existing group (optional)"})}),e.jsxs(_,{children:[e.jsx(u,{value:"__none__",children:"No Group"}),S.map(s=>e.jsx(u,{value:s,children:s},s))]})]})]}),a.group&&e.jsx("p",{className:"text-sm text-destructive",children:a.group})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"key",children:"Key"}),e.jsx(d,{id:"key",type:"text",placeholder:"e.g., home, title, seeStories",value:t.key,onChange:s=>c("key",s.target.value),className:a.key?"border-destructive":""}),a.key&&e.jsx("p",{className:"text-sm text-destructive",children:a.key})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"value",children:"Value"}),e.jsx(f,{id:"value",placeholder:"Enter the translated text",value:t.value,onChange:s=>c("value",s.target.value),className:a.value?"border-destructive":"",rows:3}),a.value&&e.jsx("p",{className:"text-sm text-destructive",children:a.value})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"description",children:"Description (Optional)"}),e.jsx(f,{id:"description",placeholder:"Context or notes for translators",value:t.description,onChange:s=>c("description",s.target.value),rows:2})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(m,{checked:t.is_active,onCheckedChange:G}),e.jsx(l,{children:"Active"})]}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx(j,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"}),e.jsx(j,{type:"submit",disabled:h,size:"sm",className:"gap-2",children:h?"Updating...":"Update Localization"})]})]})})]})]})]})}export{te as default};
