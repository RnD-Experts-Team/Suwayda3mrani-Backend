import{j as e,r as n,a as N,H as ke,L as T}from"./app-CrR2e6si.js";import{A as Te}from"./app-layout-BlBsKGdN.js";import{b as j,B as d}from"./button-TAkYr07m.js";import{I as ze}from"./input-DyR6yKAK.js";import{S as z,a as F,b as L,c as I,d as i}from"./select-2URgjTAn.js";import{B as P}from"./badge-xFiofwbL.js";import{C as B,a as Fe,b as Le,c as G}from"./card-C4Ze9f0h.js";import{C as Y}from"./checkbox--b9gynK0.js";import{A as Z,a as ee,b as se,c as te,d as ae,e as le,f as re,g as ne}from"./alert-dialog-C6LKY8gG.js";import{P as Ie,a as Pe,b as Be,c as Ge,d as Oe,e as Re}from"./pagination-sLZUPq_E.js";import{T as oe}from"./trash-2-BDp1U-OY.js";import{P as ce}from"./plus-DKUScZbf.js";import{F as Ve}from"./filter-C412sp25.js";import{R as ie}from"./rotate-ccw-QPJI7gRv.js";import{S as $e}from"./search-B6v_5Gqc.js";import{S as Ee}from"./square-pen-Dcisaaj3.js";import{D as He}from"./database-OUi2AZ0l.js";/* empty css            */import"./index-DIhEDuut.js";import"./index-Cp7DFzk1.js";import"./index-MGpkUcMS.js";import"./check-D3rtSHKw.js";import"./chevron-left-C5l6EbmX.js";function qe({className:l,...t}){return e.jsx("div",{"data-slot":"table-container",className:"relative w-full overflow-x-auto",children:e.jsx("table",{"data-slot":"table",className:j("w-full caption-bottom text-sm",l),...t})})}function Ue({className:l,...t}){return e.jsx("thead",{"data-slot":"table-header",className:j("[&_tr]:border-b",l),...t})}function Ke({className:l,...t}){return e.jsx("tbody",{"data-slot":"table-body",className:j("[&_tr:last-child]:border-0",l),...t})}function de({className:l,...t}){return e.jsx("tr",{"data-slot":"table-row",className:j("hover:bg-muted/50 data-[state=selected]:bg-muted border-b transition-colors",l),...t})}function u({className:l,...t}){return e.jsx("th",{"data-slot":"table-head",className:j("text-foreground h-10 px-2 text-left align-middle font-medium whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",l),...t})}function h({className:l,...t}){return e.jsx("td",{"data-slot":"table-cell",className:j("p-2 align-middle whitespace-nowrap [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",l),...t})}const We=[{title:"Localizations",href:"/localizations"}];function js(l){const{localizations:t=null,languages:O=null,groups:R=null,filters:ue=null}=l||{},r={data:t?.data||[],links:t?.links||[],meta:{current_page:t?.current_page||1,last_page:t?.last_page||1,per_page:t?.per_page||15,total:t?.total||0,from:t?.from||null,to:t?.to||null}},he=Array.isArray(O)?O:[],me=Array.isArray(R)?R:[],v=ue||{},m=s=>s==="__all__"?"":s==="__null__"?"null":s,w=(s,a)=>s?s==="null"&&a==="group"?"__null__":s:"__all__",[x,V]=n.useState(v.search||""),[_,$]=n.useState(w(v.language||"","language")),[b,E]=n.useState(w(v.group||"","group")),[y,H]=n.useState(w(v.status||"","status")),[c,f]=n.useState([]),[xe,C]=n.useState(!1),[pe,A]=n.useState(!1),[q,U]=n.useState(null),[ge,je]=n.useState(!0);n.useEffect(()=>{if(ge){je(!1);return}const s=setTimeout(()=>{fe()},300);return()=>clearTimeout(s)},[x]);const fe=()=>{const s={};x?.trim()&&(s.search=x.trim());const a=m(_);a&&(s.language=a);const o=m(b);o&&(s.group=o);const g=m(y);g&&(s.status=g),console.log("Applying filters with params:",s),N.get("/localizations",Object.keys(s).length>0?s:{},{preserveState:!0,preserveScroll:!0})},D=(s={})=>{const a={},o=s.search!==void 0?s.search:x,g=s.language!==void 0?s.language:_,Ae=s.group!==void 0?s.group:b,De=s.status!==void 0?s.status:y;o?.trim()&&(a.search=o.trim());const M=m(g);M&&(a.language=M);const Q=m(Ae);Q&&(a.group=Q);const X=m(De);X&&(a.status=X),console.log("Applying filters with values:",a,"overrides:",s),N.get("/localizations",Object.keys(a).length>0?a:{},{preserveState:!0,preserveScroll:!0})},K=()=>{V(""),$("__all__"),E("__all__"),H("__all__"),N.get("/localizations")},Ne=s=>{s&&r.data.length>0?f(r.data.map(a=>a.id)):f([])},ve=(s,a)=>{f(a?o=>[...o,s]:o=>o.filter(g=>g!==s))},_e=s=>{U(s),C(!0)},be=()=>{q&&N.delete(`/localizations/${q}`,{onSuccess:()=>{console.log("Localization deleted successfully")},onError:()=>{console.error("Failed to delete localization")}}),C(!1),U(null)},ye=()=>{A(!0)},Se=()=>{c.length>0&&N.post("/localizations/bulk-delete",{ids:c},{onSuccess:()=>{f([]),console.log(`${c.length} localizations deleted successfully`)},onError:()=>{console.error("Failed to delete localizations")}}),A(!1)},p=!!(x?.trim()||_!=="__all__"||b!=="__all__"||y!=="__all__");r.data.length>0;const k=r.meta.total===0,S=r.meta.total,W=r.meta.from,J=r.meta.to,we=()=>k&&!p?"No localizations found. Create your first localization to get started.":k&&p?"No results match your current filters.":W&&J?`Showing ${W} to ${J} of ${S} results`:S>0?`${S} result${S!==1?"s":""}`:"Loading results...",Ce=()=>e.jsx(B,{className:"overflow-hidden",children:e.jsx(G,{className:"py-16",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-muted rounded-full flex items-center justify-center",children:e.jsx(He,{className:"w-8 h-8 text-muted-foreground"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:p?"No results found":"No localizations yet"}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:p?"Try adjusting your filters or search terms to find what you're looking for.":"Get started by creating your first localization entry to manage translations."})]}),e.jsxs("div",{className:"flex justify-center gap-2 pt-4",children:[p&&e.jsxs(d,{variant:"outline",onClick:K,className:"gap-2",children:[e.jsx(ie,{className:"w-4 h-4"}),"Clear Filters"]}),e.jsx(T,{href:"/localizations/create",children:e.jsxs(d,{className:"gap-2",children:[e.jsx(ce,{className:"w-4 h-4"}),"Create Localization"]})})]})]})})});return e.jsxs(Te,{breadcrumbs:We,children:[e.jsx(ke,{title:"Localizations"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-between sm:items-center",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Localizations"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:we()})]}),e.jsxs("div",{className:"flex gap-2",children:[c.length>0&&e.jsxs(d,{variant:"destructive",onClick:ye,size:"sm",className:"gap-2",children:[e.jsx(oe,{className:"w-4 h-4"}),"Delete Selected (",c.length,")"]}),e.jsx(T,{href:"/localizations/create",children:e.jsxs(d,{size:"sm",className:"gap-2",children:[e.jsx(ce,{className:"w-4 h-4"}),"Add Localization"]})})]})]}),e.jsxs(B,{className:"overflow-hidden",children:[e.jsx(Fe,{className:"px-6 py-4 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs(Le,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(Ve,{className:"w-4 h-4"}),"Filters"]}),p&&e.jsxs(d,{variant:"outline",size:"sm",onClick:K,className:"gap-2",children:[e.jsx(ie,{className:"w-4 h-4"}),"Clear Filters"]})]})}),e.jsx(G,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx($e,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 w-4 h-4"}),e.jsx(ze,{type:"text",placeholder:"Search keys, values, groups...",value:x,onChange:s=>V(s.target.value||""),className:"pl-10"})]}),e.jsxs(z,{value:_,onValueChange:s=>{$(s),D({language:s})},children:[e.jsx(F,{children:e.jsx(L,{placeholder:"All Languages"})}),e.jsxs(I,{children:[e.jsx(i,{value:"__all__",children:"All Languages"}),he.map(s=>e.jsx(i,{value:s,children:s.toUpperCase()},s))]})]}),e.jsxs(z,{value:b,onValueChange:s=>{E(s),D({group:s})},children:[e.jsx(F,{children:e.jsx(L,{placeholder:"All Groups"})}),e.jsxs(I,{children:[e.jsx(i,{value:"__all__",children:"All Groups"}),e.jsx(i,{value:"__null__",children:"No Group"}),me.map(s=>e.jsx(i,{value:s,children:s},s))]})]}),e.jsxs(z,{value:y,onValueChange:s=>{H(s),D({status:s})},children:[e.jsx(F,{children:e.jsx(L,{placeholder:"All Status"})}),e.jsxs(I,{children:[e.jsx(i,{value:"__all__",children:"All Status"}),e.jsx(i,{value:"active",children:"Active"}),e.jsx(i,{value:"inactive",children:"Inactive"})]})]})]})})]}),k?e.jsx(Ce,{}):e.jsxs(e.Fragment,{children:[e.jsx(B,{className:"overflow-hidden",children:e.jsx(G,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs(qe,{children:[e.jsx(Ue,{className:"bg-muted/50",children:e.jsxs(de,{children:[e.jsx(u,{className:"px-4 w-12",children:e.jsx(Y,{checked:c.length===r.data.length&&r.data.length>0,onCheckedChange:Ne})}),e.jsx(u,{className:"px-4",children:"Language"}),e.jsx(u,{className:"px-4",children:"Group"}),e.jsx(u,{className:"px-4",children:"Key"}),e.jsx(u,{className:"px-4 min-w-[200px]",children:"Value"}),e.jsx(u,{className:"px-4",children:"Status"}),e.jsx(u,{className:"px-4 w-24",children:"Actions"})]})}),e.jsx(Ke,{children:r.data.map(s=>e.jsxs(de,{className:"hover:bg-muted/50",children:[e.jsx(h,{className:"px-4 py-3",children:e.jsx(Y,{checked:c.includes(s.id),onCheckedChange:a=>ve(s.id,!!a)})}),e.jsx(h,{className:"px-4 py-3",children:e.jsx(P,{variant:"outline",children:(s.language||"").toUpperCase()})}),e.jsx(h,{className:"px-4 py-3",children:s.group?e.jsx(P,{variant:"secondary",children:s.group}):e.jsx("span",{className:"text-muted-foreground text-sm",children:"No group"})}),e.jsx(h,{className:"px-4 py-3 font-mono text-sm",children:s.key||""}),e.jsx(h,{className:"px-4 py-3",children:e.jsx("div",{className:"truncate",title:s.value||"",children:s.value||""})}),e.jsx(h,{className:"px-4 py-3",children:e.jsx(P,{variant:s.is_active?"default":"destructive",children:s.is_active?"Active":"Inactive"})}),e.jsx(h,{className:"px-4 py-3",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(T,{href:`/localizations/${s.id}/edit`,children:e.jsx(d,{variant:"outline",size:"sm",children:e.jsx(Ee,{className:"w-4 h-4"})})}),e.jsx(d,{variant:"outline",size:"sm",onClick:()=>_e(s.id),className:"text-destructive hover:text-destructive",children:e.jsx(oe,{className:"w-4 h-4"})})]})})]},s.id))})]})})})}),r.meta.last_page>1&&e.jsx("div",{className:"flex justify-center",children:e.jsx(Ie,{children:e.jsx(Pe,{children:r.links.map((s,a)=>e.jsx(Be,{children:s.label==="&laquo; Previous"?e.jsx(Ge,{href:s.url||"#",className:s.url?"":"pointer-events-none opacity-50"}):s.label==="Next &raquo;"?e.jsx(Oe,{href:s.url||"#",className:s.url?"":"pointer-events-none opacity-50"}):e.jsx(Re,{href:s.url||"#",isActive:s.active,className:s.url?"":"pointer-events-none opacity-50",children:s.label})},a))})})})]})]}),e.jsx(Z,{open:xe,onOpenChange:C,children:e.jsxs(ee,{children:[e.jsxs(se,{children:[e.jsx(te,{children:"Are you sure?"}),e.jsx(ae,{children:"This action cannot be undone. This will permanently delete the localization."})]}),e.jsxs(le,{children:[e.jsx(re,{children:"Cancel"}),e.jsx(ne,{onClick:be,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),e.jsx(Z,{open:pe,onOpenChange:A,children:e.jsxs(ee,{children:[e.jsxs(se,{children:[e.jsxs(te,{children:["Delete ",c.length," localizations?"]}),e.jsx(ae,{children:"This action cannot be undone. This will permanently delete the selected localizations."})]}),e.jsxs(le,{children:[e.jsx(re,{children:"Cancel"}),e.jsx(ne,{onClick:Se,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete All"})]})]})})]})}export{js as default};
