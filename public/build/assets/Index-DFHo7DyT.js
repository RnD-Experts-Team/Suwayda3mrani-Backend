import{r as c,j as e,H as ie,L as h,a as x}from"./app-BkbSDsWh.js";import{A as ce}from"./app-layout-DG9v_BGE.js";import{B as l}from"./button-DzrUK_IZ.js";import{I as oe}from"./input-DG1xDc8h.js";import{S as de,a as me,b as he,c as xe,d as y}from"./select-BnqDqU-C.js";import{B as F}from"./badge-DogsWml0.js";import{C as u,a as ue,b as pe,c as p}from"./card-0jqDjIyB.js";import{C as H}from"./checkbox-FmfatvtD.js";import{A as z,a as B,b as $,c as O,d as R,e as E,f as L,g as q}from"./alert-dialog-BZnKNnhP.js";import{P as je,a as fe,b as ge,c as Ne,d as ve,e as ye}from"./pagination-C1ljDHmF.js";import{T as w}from"./trash-2-DKH-3nKb.js";import{P as V}from"./plus-Bty5jKH4.js";import{F as we}from"./filter-DLpoWLqT.js";import{R as U}from"./rotate-ccw-eoMzD72Z.js";import{S as G}from"./search-wgLu5qRP.js";import{I as Se}from"./image-DQWlpx_t.js";import{E as _e}from"./eye-BeJdbfKg.js";import{S as Ce}from"./square-pen-7cJ8vJDX.js";import{P as S,H as be}from"./panels-top-left-BBzOfVw8.js";/* empty css            */import"./index-DmrOjizl.js";import"./index-BST8kMAH.js";import"./index-Dq643Emd.js";import"./check-6C9HJHJr.js";const De=[{title:"Home Sections",href:"/home-sections"}];function Ye(J){const{homeSections:n=null,filters:K=null}=J||{},t={data:n?.data||[],links:n?.links||[],meta:{current_page:n?.current_page||1,last_page:n?.last_page||1,per_page:n?.per_page||12,total:n?.total||0,from:n?.from||null,to:n?.to||null}},_=K||{},[d,C]=c.useState(_.search||""),[j,b]=c.useState(_.type||"__all__"),[r,o]=c.useState([]),[M,f]=c.useState(!1),[Q,g]=c.useState(!1),[D,A]=c.useState(null),W=s=>s==="__all__"?"":s,X=()=>{const s={};d?.trim()&&(s.search=d.trim());const a=W(j);a&&(s.type=a),x.get("/home-sections",Object.keys(s).length>0?s:{},{preserveState:!0,preserveScroll:!0})},T=()=>{C(""),b("__all__"),x.get("/home-sections")},Y=s=>{s&&t.data.length>0?o(t.data.map(a=>a.id)):o([])},Z=(s,a)=>{o(a?v=>[...v,s]:v=>v.filter(ne=>ne!==s))},ee=s=>{A(s),f(!0)},se=()=>{D&&x.delete(`/home-sections/${D}`),f(!1),A(null)},k=()=>{g(!0)},te=()=>{r.length>0&&x.post("/home-sections/bulk-delete",{ids:r}),g(!1),o([])},i=!!(d?.trim()||j!=="__all__");t.data.length>0;const N=t.meta.total===0,m=t.meta.total,I=t.meta.from,P=t.meta.to,ae=()=>N&&!i?"No home sections found. Create your first section to get started.":N&&i?"No results match your current filters.":I&&P?`Showing ${I} to ${P} of ${m} results`:m>0?`${m} section${m!==1?"s":""}`:"Loading sections...",le=s=>{switch(s){case"hero":return e.jsx(be,{className:"w-3 h-3"});case"suggestion":return e.jsx(S,{className:"w-3 h-3"});default:return e.jsx(S,{className:"w-3 h-3"})}},re=()=>e.jsx(u,{className:"overflow-hidden",children:e.jsx(p,{className:"py-16",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-muted rounded-full flex items-center justify-center",children:e.jsx(S,{className:"w-8 h-8 text-muted-foreground"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:i?"No sections found":"No home sections yet"}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:i?"Try adjusting your filters to find what you're looking for.":"Create your first home section to customize your homepage."})]}),e.jsxs("div",{className:"flex justify-center gap-2 pt-4",children:[i&&e.jsxs(l,{variant:"outline",onClick:T,className:"gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"Clear Filters"]}),e.jsx(h,{href:"/home-sections/create",children:e.jsxs(l,{className:"gap-2",children:[e.jsx(V,{className:"w-4 h-4"}),"Create Section"]})})]})]})})});return e.jsxs(ce,{breadcrumbs:De,children:[e.jsx(ie,{title:"Home Sections"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-between sm:items-center",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Home Sections"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:ae()})]}),e.jsxs("div",{className:"flex gap-2",children:[r.length>0&&e.jsxs(l,{variant:"destructive",onClick:k,size:"sm",className:"gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Delete Selected (",r.length,")"]}),e.jsx(h,{href:"/home-sections/create",children:e.jsxs(l,{size:"sm",className:"gap-2",children:[e.jsx(V,{className:"w-4 h-4"}),"Create Section"]})})]})]}),e.jsxs(u,{className:"overflow-hidden",children:[e.jsx(ue,{className:"px-6 py-4 border-b",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(we,{className:"w-4 h-4 text-muted-foreground"}),e.jsx(pe,{className:"text-lg font-semibold",children:"Filters"})]}),i&&e.jsxs(l,{variant:"outline",size:"sm",onClick:T,className:"gap-2",children:[e.jsx(U,{className:"w-4 h-4"}),"Clear Filters"]})]})}),e.jsx(p,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx(G,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(oe,{type:"text",placeholder:"Search sections...",value:d,onChange:s=>C(s.target.value),className:"pl-10"})]}),e.jsxs(de,{value:j,onValueChange:b,children:[e.jsx(me,{children:e.jsx(he,{placeholder:"All Types"})}),e.jsxs(xe,{children:[e.jsx(y,{value:"__all__",children:"All Types"}),e.jsx(y,{value:"hero",children:"Hero"}),e.jsx(y,{value:"suggestion",children:"Suggestion"})]})]}),e.jsx("div",{}),e.jsxs(l,{onClick:X,className:"gap-2",children:[e.jsx(G,{className:"w-4 h-4"}),"Search"]})]})})]}),N?e.jsx(re,{}):e.jsxs(e.Fragment,{children:[r.length>0&&e.jsx(u,{children:e.jsx(p,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(H,{checked:r.length===t.data.length&&t.data.length>0,onCheckedChange:Y}),e.jsxs("span",{className:"text-sm text-muted-foreground",children:[r.length," of ",t.data.length," selected"]})]}),e.jsxs(l,{variant:"destructive",size:"sm",onClick:k,className:"gap-2",children:[e.jsx(w,{className:"w-4 h-4"}),"Delete Selected"]})]})})}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.data.map(s=>e.jsxs(u,{className:"overflow-hidden group",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute top-3 left-3 z-10",children:e.jsx(H,{checked:r.includes(s.id),onCheckedChange:a=>Z(s.id,!!a)})}),e.jsx("div",{className:"aspect-[4/3] bg-muted flex items-center justify-center",children:s.image_path?e.jsx("img",{src:`/storage/${s.image_path}`,alt:s.translated_content.title.en,className:"w-full h-full object-cover"}):e.jsxs("div",{className:"flex flex-col items-center gap-2 text-muted-foreground",children:[e.jsx(Se,{className:"w-8 h-8"}),e.jsx("span",{className:"text-xs",children:"No image"})]})}),e.jsx("div",{className:"absolute bottom-3 left-3",children:e.jsxs(F,{variant:"secondary",className:"gap-1 capitalize",children:[le(s.type),s.type]})})]}),e.jsx(p,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsx("h3",{className:"font-semibold text-sm line-clamp-2",children:s.translated_content.title.en||"Untitled Section"}),e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3",children:s.translated_content.description.en||"No description"}),e.jsxs("div",{className:"space-y-1",children:[e.jsxs("div",{className:"text-xs text-muted-foreground",children:["ID: ",s.section_id]}),e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Order: ",s.sort_order]}),s.action_key&&e.jsxs("div",{className:"text-xs text-muted-foreground",children:["Action: ",s.action_key]})]}),e.jsxs("div",{className:"flex justify-between items-center pt-2",children:[e.jsxs("div",{className:"flex gap-1",children:[e.jsx(h,{href:`/home-sections/${s.id}`,children:e.jsx(l,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(_e,{className:"w-4 h-4"})})}),e.jsx(h,{href:`/home-sections/${s.id}/edit`,children:e.jsx(l,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(Ce,{className:"w-4 h-4"})})}),e.jsx(l,{variant:"outline",size:"sm",onClick:()=>ee(s.id),className:"h-8 w-8 p-0 text-destructive hover:text-destructive",children:e.jsx(w,{className:"w-4 h-4"})})]}),e.jsx("div",{className:"flex gap-1",children:!s.is_active&&e.jsx(F,{variant:"secondary",className:"text-xs",children:"Inactive"})})]})]})})]},s.id))}),t.meta.last_page>1&&e.jsx("div",{className:"flex justify-center",children:e.jsx(je,{children:e.jsx(fe,{children:t.links.map((s,a)=>e.jsx(ge,{children:s.label==="&laquo; Previous"?e.jsx(Ne,{href:s.url||"#",className:s.url?"":"pointer-events-none opacity-50"}):s.label==="Next &raquo;"?e.jsx(ve,{href:s.url||"#",className:s.url?"":"pointer-events-none opacity-50"}):e.jsx(ye,{href:s.url||"#",isActive:s.active,className:s.url?"":"pointer-events-none opacity-50",children:s.label})},a))})})})]})]}),e.jsx(z,{open:M,onOpenChange:f,children:e.jsxs(B,{children:[e.jsxs($,{children:[e.jsx(O,{children:"Are you sure?"}),e.jsx(R,{children:"This action cannot be undone. This will permanently delete the home section and all associated content."})]}),e.jsxs(E,{children:[e.jsx(L,{children:"Cancel"}),e.jsx(q,{onClick:se,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})}),e.jsx(z,{open:Q,onOpenChange:g,children:e.jsxs(B,{children:[e.jsxs($,{children:[e.jsxs(O,{children:["Delete ",r.length," sections?"]}),e.jsx(R,{children:"This action cannot be undone. This will permanently delete the selected home sections and all associated content."})]}),e.jsxs(E,{children:[e.jsx(L,{children:"Cancel"}),e.jsx(q,{onClick:te,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete All"})]})]})})]})}export{Ye as default};
