import{j as e,H as v,L as w,a as i}from"./app-BkbSDsWh.js";import{A as _}from"./app-layout-DG9v_BGE.js";import{c as y,B as t}from"./button-DzrUK_IZ.js";import{I as u}from"./input-DG1xDc8h.js";import{S as h,a as j,b as p,c as f,d as a}from"./select-BnqDqU-C.js";import{B as b}from"./badge-DogsWml0.js";import{C as o,c as d}from"./card-0jqDjIyB.js";import{R as g}from"./rotate-ccw-eoMzD72Z.js";import{F as S}from"./file-text-DFKjfENs.js";import{M as k}from"./map-pin-CeVJdahD.js";import{E as C}from"./eye-BeJdbfKg.js";/* empty css            */import"./index-DmrOjizl.js";import"./index-BST8kMAH.js";import"./index-Dq643Emd.js";import"./check-6C9HJHJr.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]],A=y("Download",E),F=[{title:"Form Entries",href:"/form-entries"}];function O({entries:l,filters:r={}}){const c=(s={})=>{i.get("/form-entries",{...r,...s},{preserveState:!0,preserveScroll:!0})},m=()=>{i.get("/form-entries")},x=l.data.length===0;return e.jsxs(_,{breadcrumbs:F,children:[e.jsx(v,{title:"Form Entries"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-between sm:items-center",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Form Entries"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:x?"No entries found":`Showing ${l.from??"N/A"}-${l.to??"N/A"} of ${l.total} entries`})]}),e.jsx("div",{className:"flex gap-2",children:e.jsx("a",{href:"/form-entries/export",children:e.jsxs(t,{variant:"secondary",className:"gap-1",children:[e.jsx(A,{className:"h-4 w-4"})," Export"]})})})]}),e.jsx(o,{className:"overflow-hidden",children:e.jsxs(d,{className:"p-4 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-3",children:[e.jsx("div",{className:"lg:col-span-1 flex gap-2",children:e.jsxs(t,{variant:"outline",onClick:m,className:"gap-1",children:[e.jsx(g,{className:"h-4 w-4"})," Reset"]})}),e.jsx(u,{placeholder:"Entry Number",defaultValue:r?.entry_number||"",onBlur:s=>c({entry_number:s.target.value}),className:"w-full"}),e.jsx(u,{placeholder:"Submitter Name",defaultValue:r?.submitter_name||"",onBlur:s=>c({submitter_name:s.target.value}),className:"w-full"}),e.jsxs(h,{value:r?.location||"all",onValueChange:s=>c({location:s==="all"?"":s}),children:[e.jsx(j,{children:e.jsx(p,{placeholder:"Location"})}),e.jsxs(f,{children:[e.jsx(a,{value:"all",children:"All Locations"}),e.jsx(a,{value:"عائلة مضيفة",children:"عائلة مضيفة"}),e.jsx(a,{value:"مكان ايواء (او اجار)",children:"مكان ايواء (او اجار)"}),e.jsx(a,{value:"no-location",children:"لا يوجد"})]})]}),e.jsxs(h,{value:r?.status||"all",onValueChange:s=>c({status:s==="all"?"":s}),children:[e.jsx(j,{children:e.jsx(p,{placeholder:"Status"})}),e.jsxs(f,{children:[e.jsx(a,{value:"all",children:"All Statuses"}),e.jsx(a,{value:"أسماء ضحايا",children:"أسماء ضحايا"}),e.jsx(a,{value:"منازل محترقة",children:"منازل محترقة"}),e.jsx(a,{value:"منازل مسروقة",children:"منازل مسروقة"})]})]})]})}),x?e.jsx(o,{className:"text-center",children:e.jsxs(d,{className:"py-16",children:[e.jsx("div",{className:"mx-auto flex h-12 w-12 items-center justify-center rounded-full bg-muted",children:e.jsx(S,{className:"h-6 w-6 text-muted-foreground"})}),e.jsx("h3",{className:"mt-3 text-lg font-medium",children:"No entries found"}),e.jsx("p",{className:"mt-1 text-sm text-muted-foreground",children:"Adjust your filters to see results"}),e.jsx("div",{className:"mt-4 flex justify-center gap-3",children:e.jsxs(t,{variant:"outline",onClick:m,children:[e.jsx(g,{className:"mr-2 h-4 w-4"})," Reset filters"]})})]})}):e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:l.data.map(s=>e.jsx(o,{className:"h-full flex flex-col hover:shadow-md transition-shadow",children:e.jsxs(d,{className:"p-4 flex-1 flex flex-col",children:[e.jsxs("div",{className:"space-y-3 flex-1",children:[e.jsxs("div",{className:"flex justify-between items-start gap-2",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"font-semibold leading-tight",children:["Entry #",s.entry_number]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.submitter_name||"No submitter"})]}),s.status&&e.jsx("div",{className:"flex flex-wrap gap-1",children:s.status.split(",").map((n,N)=>e.jsx(b,{variant:"outline",className:"text-xs",children:n},N))})]}),s.location&&e.jsxs("p",{className:"flex items-center gap-2 text-sm",children:[e.jsx(k,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{children:s.location})]}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Submitted: ",new Date(s.date_submitted).toLocaleDateString()]}),e.jsxs("div",{className:"grid grid-cols-3 gap-2 text-sm",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:"Families"}),e.jsx("p",{children:s.hosted_families_count})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:"Martyrs"}),e.jsx("p",{children:s.martyrs_count})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-medium",children:"Shelters"}),e.jsx("p",{children:s.shelters_count})]})]})]}),e.jsx("div",{className:"mt-4 pt-3 border-t",children:e.jsx(w,{href:`/form-entries/${s.id}`,className:"w-full",children:e.jsxs(t,{variant:"default",className:"w-full gap-2",children:[e.jsx(C,{className:"h-4 w-4"})," View Details"]})})})]})},s.id))}),l.last_page>1&&e.jsx("div",{className:"flex justify-center pt-2",children:e.jsxs("div",{className:"flex gap-2",children:[l.current_page>1&&e.jsx(t,{variant:"outline",onClick:()=>i.get(l.links[0].url),children:"Previous"}),Array.from({length:l.last_page},(s,n)=>n+1).map(s=>e.jsx(t,{variant:s===l.current_page?"default":"outline",onClick:()=>i.get(`/form-entries?page=${s}`),children:s},s)),l.current_page<l.last_page&&e.jsx(t,{variant:"outline",onClick:()=>i.get(l.links[l.links.length-1].url),children:"Next"})]})})]})]})}export{O as default};
