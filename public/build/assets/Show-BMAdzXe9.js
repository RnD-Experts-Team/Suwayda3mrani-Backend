import{r as T,j as e,H as F,L as m,a as g}from"./app-CDLrXDSJ.js";import{A as M}from"./app-layout-RlSBJbLE.js";import{B as t}from"./button-DkAxeODS.js";import{B as d}from"./badge-Dv4yfngj.js";import{C as l,a as r,b as n,c as i}from"./card-DSp6dVJs.js";import{A as E,a as U,b as L,c as I,d as O,e as z,f as B,g as V}from"./alert-dialog-SmhIjdbF.js";import{A as $}from"./arrow-left-DmcQ2qpf.js";import{S as x,a as v}from"./star-BlEMNggE.js";import{S as b}from"./square-pen-CUE8TT-z.js";import{T as _}from"./trash-2-BZWqxyJt.js";import{V as h}from"./video-DEPMiEvx.js";import{I as w}from"./image-Yb_Jnxjt.js";import{E as H}from"./eye-DfkwJnvV.js";import{E as P}from"./eye-off-CCSuwuFy.js";import{E as R}from"./external-link-DNBLhdcV.js";import{L as y}from"./link-BxTtbo-n.js";import{D as q}from"./database-CPJOBm3T.js";import{U as G}from"./upload-Bc5wzV_c.js";/* empty css            */import"./index-VGP26jel.js";import"./index-DMbkFXFE.js";function ue({media:a}){const k=[{title:"Media",href:"/media"},{title:a.translated_content?.title?.en||"View Media",href:`/media/${a.id}`}],[D,o]=T.useState(!1),u=()=>{o(!0)},A=()=>{g.delete(`/media/${a.id}`),o(!1)},j=()=>{g.patch(`/media/${a.id}/toggle-featured`,{},{preserveState:!0,preserveScroll:!0})},C=c=>{switch(c){case"upload":return e.jsx(G,{className:"w-4 h-4"});case"google_drive":return e.jsx(q,{className:"w-4 h-4"});case"external_link":return e.jsx(y,{className:"w-4 h-4"});default:return null}},S=c=>{switch(c){case"upload":return"default";case"google_drive":return"secondary";case"external_link":return"outline";default:return"default"}},p=c=>c?c.replace("_"," "):"Unknown",f=()=>a.translated_content?.url||null,N=()=>a.translated_content?.thumbnail||a.translated_content?.url||null,s={...a,type:a.type||"image",source_type:a.source_type||"upload",is_active:a.is_active??!0,featured_on_home:a.featured_on_home??!1,sort_order:a.sort_order??0,testimonies:a.testimonies||[],cases:a.cases||[],translated_content:a.translated_content||{id:a.media_id||"",type:a.type||"image",source_type:a.source_type||"upload",title:{en:"",ar:""},description:{en:"",ar:""}}};return e.jsxs(M,{breadcrumbs:k,children:[e.jsx(F,{title:`${s.translated_content.title?.en||"Media"} - View`}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-between sm:items-center",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("div",{className:"flex items-center gap-3",children:e.jsx(m,{href:"/media",children:e.jsxs(t,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx($,{className:"w-4 h-4"}),"Back to Media"]})})}),e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:s.translated_content.title?.en||"Untitled Media"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"View and manage media details"})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(t,{variant:"outline",size:"sm",onClick:j,className:"gap-2",children:s.featured_on_home?e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"w-4 h-4 fill-yellow-400 text-yellow-400"}),"Featured"]}):e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-4 h-4"}),"Feature"]})}),e.jsx(m,{href:`/media/${s.id}/edit`,children:e.jsxs(t,{variant:"outline",size:"sm",className:"gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Edit"]})}),e.jsxs(t,{variant:"destructive",size:"sm",onClick:u,className:"gap-2",children:[e.jsx(_,{className:"w-4 h-4"}),"Delete"]})]})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 max-w-7xl",children:[e.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[e.jsxs(l,{className:"overflow-hidden",children:[e.jsx(r,{className:"px-6 py-4 border-b",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx(n,{className:"text-lg font-semibold",children:"Media Preview"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsxs(d,{variant:"outline",className:"gap-1",children:[s.type==="video"?e.jsx(h,{className:"w-3 h-3"}):e.jsx(w,{className:"w-3 h-3"}),s.type]}),e.jsxs(d,{variant:S(s.source_type),className:"gap-1",children:[C(s.source_type),p(s.source_type)]})]})]})}),e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"aspect-video bg-muted rounded-lg flex items-center justify-center overflow-hidden",children:N()?e.jsxs(e.Fragment,{children:[e.jsx("img",{src:N(),alt:s.translated_content.title?.en||"Media",className:"w-full h-full object-cover"}),s.type==="video"&&e.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20",children:e.jsx("div",{className:"w-16 h-16 bg-black/60 rounded-full flex items-center justify-center",children:e.jsx(h,{className:"w-8 h-8 text-white ml-1"})})})]}):e.jsxs("div",{className:"text-center text-muted-foreground",children:[s.type==="video"?e.jsx(h,{className:"mx-auto w-12 h-12 mb-4"}):e.jsx(w,{className:"mx-auto w-12 h-12 mb-4"}),e.jsx("p",{children:"No preview available"})]})}),e.jsxs("div",{className:"absolute top-3 right-3 flex gap-2",children:[s.featured_on_home&&e.jsxs(d,{variant:"default",className:"gap-1",children:[e.jsx(x,{className:"w-3 h-3 fill-current"}),"Featured"]}),e.jsxs(d,{variant:s.is_active?"default":"secondary",className:"gap-1",children:[s.is_active?e.jsx(H,{className:"w-3 h-3"}):e.jsx(P,{className:"w-3 h-3"}),s.is_active?"Active":"Inactive"]})]})]}),e.jsxs("div",{className:"flex gap-2 pt-2",children:[f()&&e.jsx("a",{href:f(),target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:e.jsxs(t,{variant:"outline",className:"w-full gap-2",children:[e.jsx(R,{className:"w-4 h-4"}),"View Original"]})}),s.source_url&&e.jsx("a",{href:s.source_url,target:"_blank",rel:"noopener noreferrer",className:"flex-1",children:e.jsxs(t,{variant:"outline",className:"w-full gap-2",children:[e.jsx(y,{className:"w-4 h-4"}),"Source"]})})]})]})})]}),e.jsxs(l,{className:"overflow-hidden",children:[e.jsx(r,{className:"px-6 py-4 border-b",children:e.jsx(n,{className:"text-lg font-semibold",children:"Content"})}),e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wide",children:"English Content"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Title"}),e.jsx("p",{className:"text-sm mt-1",children:s.translated_content.title?.en||"No title provided"})]}),s.translated_content.description?.en&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),e.jsx("p",{className:"text-sm mt-1 leading-relaxed",children:s.translated_content.description.en})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wide",children:"Arabic Content"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Title"}),e.jsx("p",{className:"text-sm mt-1",dir:"rtl",children:s.translated_content.title?.ar||"لم يتم توفير عنوان"})]}),s.translated_content.description?.ar&&e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium text-muted-foreground",children:"Description"}),e.jsx("p",{className:"text-sm mt-1 leading-relaxed",dir:"rtl",children:s.translated_content.description.ar})]})]})]})]})})]}),(s.testimonies.length>0||s.cases.length>0)&&e.jsxs(l,{className:"overflow-hidden",children:[e.jsx(r,{className:"px-6 py-4 border-b",children:e.jsx(n,{className:"text-lg font-semibold",children:"Related Content"})}),e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[s.testimonies.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:["Used in Testimonies (",s.testimonies.length,")"]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["This media is used in ",s.testimonies.length," testimonies."]})]}),s.cases.length>0&&e.jsxs("div",{children:[e.jsxs("h4",{className:"text-sm font-medium text-muted-foreground mb-2",children:["Used in Cases (",s.cases.length,")"]}),e.jsxs("div",{className:"text-sm text-muted-foreground",children:["This media is used in ",s.cases.length," cases."]})]})]})})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(l,{children:[e.jsx(r,{className:"px-6 py-4 border-b",children:e.jsx(n,{className:"text-lg font-semibold",children:"Media Information"})}),e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"space-y-4 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Media ID:"}),e.jsx("span",{className:"font-mono",children:s.media_id||"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Type:"}),e.jsx("span",{className:"capitalize",children:s.type})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Source:"}),e.jsx("span",{className:"capitalize",children:p(s.source_type)})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Status:"}),e.jsx(d,{variant:s.is_active?"default":"secondary",children:s.is_active?"Active":"Inactive"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Featured:"}),e.jsx(d,{variant:s.featured_on_home?"default":"outline",children:s.featured_on_home?"Yes":"No"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Sort Order:"}),e.jsx("span",{children:s.sort_order})]})]})})]}),e.jsxs(l,{children:[e.jsx(r,{className:"px-6 py-4 border-b",children:e.jsx(n,{className:"text-lg font-semibold",children:"Technical Details"})}),e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"space-y-4 text-sm",children:[s.file_path&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground block mb-1",children:"File Path:"}),e.jsx("span",{className:"font-mono text-xs bg-muted p-2 rounded block break-all",children:s.file_path})]}),s.google_drive_id&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground block mb-1",children:"Google Drive ID:"}),e.jsx("span",{className:"font-mono text-xs bg-muted p-2 rounded block break-all",children:s.google_drive_id})]}),s.external_url&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground block mb-1",children:"External URL:"}),e.jsx("span",{className:"font-mono text-xs bg-muted p-2 rounded block break-all",children:s.external_url})]}),s.thumbnail_path&&e.jsxs("div",{children:[e.jsx("span",{className:"text-muted-foreground block mb-1",children:"Thumbnail:"}),e.jsx("span",{className:"font-mono text-xs bg-muted p-2 rounded block break-all",children:s.thumbnail_path})]}),!s.file_path&&!s.google_drive_id&&!s.external_url&&e.jsx("div",{className:"text-muted-foreground text-center py-4",children:"No technical details available"})]})})]}),e.jsxs(l,{children:[e.jsx(r,{className:"px-6 py-4 border-b",children:e.jsx(n,{className:"text-lg font-semibold",children:"Timestamps"})}),e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"space-y-3 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Created:"}),e.jsx("span",{children:s.created_at?new Date(s.created_at).toLocaleString():"N/A"})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Updated:"}),e.jsx("span",{children:s.updated_at?new Date(s.updated_at).toLocaleString():"N/A"})]})]})})]}),e.jsxs(l,{children:[e.jsx(r,{className:"px-6 py-4 border-b",children:e.jsx(n,{className:"text-lg font-semibold",children:"Quick Actions"})}),e.jsx(i,{className:"p-6",children:e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{href:`/media/${s.id}/edit`,className:"block",children:e.jsxs(t,{variant:"outline",className:"w-full gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Edit Media"]})}),e.jsx(t,{variant:"outline",onClick:j,className:"w-full gap-2",children:s.featured_on_home?e.jsxs(e.Fragment,{children:[e.jsx(v,{className:"w-4 h-4"}),"Remove from Featured"]}):e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"w-4 h-4"}),"Add to Featured"]})}),e.jsxs(t,{variant:"destructive",onClick:u,className:"w-full gap-2",children:[e.jsx(_,{className:"w-4 h-4"}),"Delete Media"]})]})})]})]})]})]}),e.jsx(E,{open:D,onOpenChange:o,children:e.jsxs(U,{children:[e.jsxs(L,{children:[e.jsx(I,{children:"Are you sure?"}),e.jsxs(O,{children:['This action cannot be undone. This will permanently delete the media item "',s.translated_content.title?.en||"Untitled",'" and all associated files.',(s.testimonies.length>0||s.cases.length>0)&&e.jsx("span",{className:"block mt-2 font-medium text-destructive",children:"Warning: This media is currently being used in other content."})]})]}),e.jsxs(z,{children:[e.jsx(B,{children:"Cancel"}),e.jsx(V,{onClick:A,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete Permanently"})]})]})})]})}export{ue as default};
