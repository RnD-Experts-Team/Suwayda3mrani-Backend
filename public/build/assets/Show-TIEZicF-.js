import{j as s,H as u,L as x}from"./app-BkbSDsWh.js";import{A as p}from"./app-layout-DG9v_BGE.js";import{B as g}from"./button-DzrUK_IZ.js";import{C as a,a as c,b as d,c as l}from"./card-0jqDjIyB.js";import{B as j}from"./badge-DogsWml0.js";import{E as m}from"./external-link-BmnelFus.js";/* empty css            */import"./index-DmrOjizl.js";import"./index-BST8kMAH.js";const _=[{title:"Form Entries",href:"/form-entries"},{title:"View",href:""}];function t(n,e){return e==null||e===""?null:s.jsxs("p",{children:[s.jsx("strong",{children:n})," ",e]})}function o(n){if(!n||n==="")return null;try{const e=JSON.parse(n);return!Array.isArray(e)||e.length===0?null:s.jsx("div",{className:"flex flex-col gap-1",children:e.map((i,r)=>s.jsxs("a",{href:i.trim(),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 flex gap-1 items-center hover:underline",children:["Image ",r+1," ",s.jsx(m,{className:"w-4 h-4"})]},r))})}catch{const i=n.split(",").filter(r=>r.trim()!=="");return i.length===0?null:s.jsx("div",{className:"flex flex-col gap-1",children:i.map((r,h)=>s.jsxs("a",{href:r.trim(),target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 flex gap-1 items-center hover:underline",children:["Image ",h+1," ",s.jsx(m,{className:"w-4 h-4"})]},h))})}}function v(n){if(!n||n==="")return null;const e=n.split(",").filter(i=>i.trim()!=="");return e.length===0?null:s.jsx("div",{className:"flex flex-wrap gap-1",children:e.map((i,r)=>s.jsx(j,{variant:"outline",children:i},r))})}function L({entry:n}){return s.jsxs(p,{breadcrumbs:_,children:[s.jsx(u,{title:`Entry ${n.entry_number||"N/A"}`}),s.jsxs("div",{className:"flex flex-col gap-4 p-4",children:[s.jsxs("div",{children:[s.jsxs("h1",{className:"text-2xl font-bold",children:["Entry #",n.entry_number||"N/A"]}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"All details for this entry and related models"})]}),s.jsxs(a,{children:[s.jsx(c,{children:s.jsx(d,{children:"Entry Details"})}),s.jsxs(l,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[t("Form ID:",n.form_id),t("Entry Number:",n.entry_number),t("Submitter Name:",n.submitter_name),t("Location:",n.location),n.status&&t("Status:",v(n.status))]}),s.jsxs("div",{children:[n.InternalLink&&t("Internal Link:",s.jsxs("a",{href:n.InternalLink,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 flex gap-1 items-center",children:["Link ",s.jsx(m,{className:"w-4 h-4"})]})),t("Date Submitted:",n.date_submitted?new Date(n.date_submitted).toLocaleString():null),t("Hosted Families Count:",n.hosted_families_count),t("Martyrs Count:",n.martyrs_count),t("Shelters Count:",n.shelters_count)]})]})]}),n.host&&n.host.id&&n.host.full_name&&s.jsxs(a,{children:[s.jsx(c,{children:s.jsx(d,{children:"Host Details"})}),s.jsxs(l,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[t("Full Name:",n.host.full_name),t("Family Count:",n.host.family_count),t("Location:",n.host.location)]}),s.jsxs("div",{children:[t("Address:",n.host.address),t("Phone:",n.host.phone),t("Family Book Number:",n.host.family_book_number)]})]})]}),n.hostedFamilies?.length>0&&s.jsxs(a,{children:[s.jsx(c,{children:s.jsxs(d,{children:["Hosted Families (",n.hostedFamilies.length,")"]})}),s.jsx(l,{children:n.hostedFamilies.map(e=>s.jsx(a,{className:"mb-4",children:s.jsxs(l,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[t("Individuals Count:",e.individuals_count),t("Contact:",e.contact),t("Wife Name:",e.wife_name),t("Children Info:",e.children_info),e.needs&&t("Needs:",e.needs.split(",").filter(i=>i.trim()!=="").join(", ")),t("Assistance Type:",e.assistance_type),t("Provider:",e.provider),t("Date Received:",e.date_received),t("Notes:",e.notes)]}),s.jsxs("div",{children:[t("Return Possible:",e.return_possible),t("Previous Assistance:",e.previous_assistance),e.images&&t("Images:",o(e.images)),t("Family Book Number:",e.family_book_number)]})]})},e.id))})]}),n.martyrs?.filter(e=>e.id&&e.name).length>0&&s.jsxs(a,{children:[s.jsx(c,{children:s.jsxs(d,{children:["Martyrs (",n.martyrs.filter(e=>e.id&&e.name).length,")"]})}),s.jsx(l,{children:n.martyrs.filter(e=>e.id&&e.name).map(e=>s.jsx(a,{className:"mb-4",children:s.jsxs(l,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[t("Name:",e.name),t("Age:",e.age),t("Place:",e.place)]}),s.jsxs("div",{children:[t("Relative Contact:",e.relative_contact),e.images&&t("Images:",o(e.images))]})]})},e.id))})]}),n.shelters?.filter(e=>e.place&&e.place.trim()!==""||e.contact&&e.contact.trim()!==""||e.images&&e.images.trim()!==""||e.displacedFamilies&&e.displacedFamilies.length>0).length>0&&s.jsxs(a,{children:[s.jsx(c,{children:s.jsxs(d,{children:["Shelters (",n.shelters.filter(e=>e.place&&e.place.trim()!==""||e.contact&&e.contact.trim()!==""||e.images&&e.images.trim()!==""||e.displacedFamilies&&e.displacedFamilies.length>0).length,")"]})}),s.jsx(l,{children:n.shelters.filter(e=>e.place&&e.place.trim()!==""||e.contact&&e.contact.trim()!==""||e.images&&e.images.trim()!==""||e.displacedFamilies&&e.displacedFamilies.length>0).map(e=>s.jsxs(a,{className:"mb-4",children:[s.jsx(l,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.jsxs("div",{children:[e.place&&t("Place:",e.place),e.contact&&t("Contact:",e.contact),e.images&&t("Images:",o(e.images))]})}),e.displacedFamilies?.filter(i=>i.individuals_count&&i.individuals_count.trim()!==""||i.contact&&i.contact.trim()!==""||i.wife_name&&i.wife_name.trim()!==""||i.children_info&&i.children_info.trim()!==""||i.needs&&i.needs.trim()!==""||i.images&&i.images.trim()!=="").length>0&&s.jsxs("div",{className:"p-4",children:[s.jsxs("h4",{className:"font-semibold mb-2",children:["Displaced Families (",e.displacedFamilies.filter(i=>i.individuals_count&&i.individuals_count.trim()!==""||i.contact&&i.contact.trim()!==""||i.wife_name&&i.wife_name.trim()!==""||i.children_info&&i.children_info.trim()!==""||i.needs&&i.needs.trim()!==""||i.images&&i.images.trim()!=="").length,")"]}),e.displacedFamilies.filter(i=>i.individuals_count&&i.individuals_count.trim()!==""||i.contact&&i.contact.trim()!==""||i.wife_name&&i.wife_name.trim()!==""||i.children_info&&i.children_info.trim()!==""||i.needs&&i.needs.trim()!==""||i.images&&i.images.trim()!=="").map(i=>s.jsx(a,{className:"mt-2 mb-2",children:s.jsxs(l,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{children:[i.individuals_count&&t("Individuals Count:",i.individuals_count),i.contact&&t("Contact:",i.contact),i.wife_name&&t("Wife Name:",i.wife_name),i.children_info&&t("Children Info:",i.children_info),i.needs&&t("Needs:",i.needs.split(",").filter(r=>r.trim()!=="").join(", ")),i.assistance_type&&t("Assistance Type:",i.assistance_type),i.provider&&t("Provider:",i.provider),i.date_received&&t("Date Received:",i.date_received),i.notes&&t("Notes:",i.notes)]}),s.jsxs("div",{children:[i.return_possible&&t("Return Possible:",i.return_possible),i.previous_assistance&&t("Previous Assistance:",i.previous_assistance),i.images&&t("Images:",o(i.images)),i.family_book_number&&t("Family Book Number:",i.family_book_number)]})]})},i.id))]})]},e.id))})]}),s.jsx("div",{className:"flex justify-end",children:s.jsx(g,{asChild:!0,variant:"outline",children:s.jsx(x,{href:"/form-entries",children:"Back to Entries"})})})]})]})}export{L as default};
