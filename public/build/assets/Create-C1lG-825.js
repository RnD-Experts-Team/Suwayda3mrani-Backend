import{u as S,r as k,j as e,H as T}from"./app-BIiAsSdM.js";import{A as F,X as M}from"./app-layout-j6e297M5.js";import{B as j}from"./button-Ci3GZDdP.js";import{I as n}from"./input-BLSOOD9F.js";import{L as d}from"./label-DsMNS9Ia.js";import{T as g}from"./textarea-BZI4Tc89.js";import{S as B}from"./switch-DTyNRTW6.js";import{C as o,a as m,b as x,c as h}from"./card-BHKFko1u.js";import{B as D}from"./badge-4-t4-OA8.js";import{C as H}from"./checkbox-B0PAlLDD.js";import{C as v}from"./calendar-CCAh_iUo.js";import{I as u}from"./image-ClR3yXMd.js";import{F as A}from"./file-text-CrpYFNQt.js";import{V as z}from"./video-jl_Sz5DI.js";/* empty css            */import"./index-DC2lEfLk.js";import"./index-DCH5W3Q5.js";import"./index-C4z22CSr.js";import"./check-BLUgC2N0.js";const L=[{title:"Timeline Events",href:"/timeline-events"},{title:"Create",href:"/timeline-events/create"}];function ie({mediaItems:N}){const{data:t,setData:r,post:b,processing:f,errors:i}=S({period:"",is_highlighted:!1,sort_order:0,media_ids:[],title:{en:"",ar:""},description:{en:"",ar:""}}),[c,p]=k.useState([]),y=(s,a)=>{a?(p(l=>[...l,s]),r("media_ids",[...t.media_ids,s.id])):(p(l=>l.filter(E=>E.id!==s.id)),r("media_ids",t.media_ids.filter(l=>l!==s.id)))},w=s=>{p(a=>a.filter(l=>l.id!==s)),r("media_ids",t.media_ids.filter(a=>a!==s))},C=s=>{switch(s){case"image":return e.jsx(u,{className:"w-4 h-4"});case"video":return e.jsx(z,{className:"w-4 h-4"});default:return e.jsx(A,{className:"w-4 h-4"})}},_=s=>{s.preventDefault(),b("/timeline-events")};return e.jsxs(F,{breadcrumbs:L,children:[e.jsx(T,{title:"Create Timeline Event"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:[e.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-between sm:items-center",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Create Timeline Event"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a new historical event to the timeline"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 max-w-7xl",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(o,{className:"overflow-hidden",children:[e.jsx(m,{className:"px-6 py-4 border-b",children:e.jsx(x,{className:"text-lg font-semibold",children:"Event Details"})}),e.jsx(h,{className:"p-6",children:e.jsxs("form",{onSubmit:_,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wide",children:"Basic Information"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(d,{htmlFor:"period",children:"Period *"}),e.jsxs("div",{className:"relative",children:[e.jsx(v,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(n,{id:"period",type:"text",placeholder:"e.g., 1980s - 1990, 1994, 2000-2010",value:t.period,onChange:s=>r("period",s.target.value),className:`pl-10 ${i.period?"border-destructive":""}`})]}),i.period&&e.jsx("p",{className:"text-sm text-destructive",children:i.period})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(d,{htmlFor:"sort_order",children:"Sort Order"}),e.jsx(n,{id:"sort_order",type:"number",placeholder:"0",value:t.sort_order,onChange:s=>r("sort_order",parseInt(s.target.value)||0),className:i.sort_order?"border-destructive":""}),i.sort_order&&e.jsx("p",{className:"text-sm text-destructive",children:i.sort_order})]})]})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wide",children:"Content"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"English Content"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(d,{htmlFor:"title_en",children:"Title *"}),e.jsx(n,{id:"title_en",type:"text",placeholder:"Enter English title",value:t.title.en,onChange:s=>r("title",{...t.title,en:s.target.value}),className:i["title.en"]?"border-destructive":""}),i["title.en"]&&e.jsx("p",{className:"text-sm text-destructive",children:i["title.en"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(d,{htmlFor:"description_en",children:"Description *"}),e.jsx(g,{id:"description_en",placeholder:"Enter English description",value:t.description.en,onChange:s=>r("description",{...t.description,en:s.target.value}),rows:6,className:i["description.en"]?"border-destructive":""}),i["description.en"]&&e.jsx("p",{className:"text-sm text-destructive",children:i["description.en"]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"Arabic Content"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(d,{htmlFor:"title_ar",children:"Title *"}),e.jsx(n,{id:"title_ar",type:"text",placeholder:"أدخل العنوان بالعربية",value:t.title.ar,onChange:s=>r("title",{...t.title,ar:s.target.value}),className:i["title.ar"]?"border-destructive":"",dir:"rtl"}),i["title.ar"]&&e.jsx("p",{className:"text-sm text-destructive",children:i["title.ar"]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(d,{htmlFor:"description_ar",children:"Description *"}),e.jsx(g,{id:"description_ar",placeholder:"أدخل الوصف بالعربية",value:t.description.ar,onChange:s=>r("description",{...t.description,ar:s.target.value}),rows:6,className:i["description.ar"]?"border-destructive":"",dir:"rtl"}),i["description.ar"]&&e.jsx("p",{className:"text-sm text-destructive",children:i["description.ar"]})]})]})]})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center gap-3 py-2",children:[e.jsx(B,{checked:t.is_highlighted,onCheckedChange:s=>r("is_highlighted",s)}),e.jsxs("div",{children:[e.jsx(d,{className:"text-sm font-medium leading-none",children:"Highlighted Event"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Mark this event as highlighted on the timeline"})]})]})}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(j,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"}),e.jsx(j,{type:"submit",disabled:f,className:"gap-2",children:f?"Creating...":"Create Timeline Event"})]})]})})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(o,{children:[e.jsx(m,{className:"px-6 py-4 border-b",children:e.jsx(x,{className:"text-lg font-semibold",children:"Preview"})}),e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4 text-muted-foreground"}),e.jsx("span",{className:"text-sm font-medium",children:t.period||"Period not set"})]}),e.jsxs("div",{children:[e.jsx("h3",{className:"font-medium text-sm",children:t.title.en||"Event title will appear here"}),t.title.ar&&e.jsx("h3",{className:"font-medium text-sm text-muted-foreground mt-1",dir:"rtl",children:t.title.ar})]}),t.description.en&&e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3",children:t.description.en}),e.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Highlighted:"}),e.jsx("span",{children:t.is_highlighted?"Yes":"No"})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Sort Order:"}),e.jsx("span",{children:t.sort_order})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Media:"}),e.jsxs("span",{children:[c.length," selected"]})]})]})]})})]}),c.length>0&&e.jsxs(o,{children:[e.jsx(m,{className:"px-6 py-4 border-b",children:e.jsxs(x,{className:"text-lg font-semibold",children:["Selected Media (",c.length,")"]})}),e.jsx(h,{className:"p-6",children:e.jsx("div",{className:"space-y-2",children:c.map((s,a)=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsxs("div",{className:"flex items-center gap-1",children:[C(s.type),e.jsxs("span",{className:"text-xs text-muted-foreground",children:["#",a+1]})]}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:s.title}),e.jsx("p",{className:"text-xs text-muted-foreground capitalize",children:s.type})]})]}),e.jsx(j,{type:"button",variant:"outline",size:"sm",onClick:()=>w(s.id),className:"h-8 w-8 p-0",children:e.jsx(M,{className:"w-4 h-4"})})]},s.id))})})]}),e.jsxs(o,{children:[e.jsxs(m,{className:"px-6 py-4 border-b",children:[e.jsxs(x,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(u,{className:"w-4 h-4"}),"Media Selection"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Select media items for this timeline event"})]}),e.jsx(h,{className:"p-6",children:e.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:N.length>0?N.map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-2",children:[e.jsx(H,{checked:t.media_ids.includes(s.id),onCheckedChange:a=>y(s,!!a)}),e.jsx("div",{className:"w-12 h-12 bg-muted rounded overflow-hidden",children:e.jsx("img",{src:s.thumbnail,alt:s.title,className:"w-full h-full object-cover"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:s.title}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(D,{variant:"outline",className:"text-xs capitalize",children:s.type}),e.jsx("span",{className:"text-xs text-muted-foreground",children:s.media_id})]})]})]},s.id)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(u,{className:"mx-auto w-8 h-8 text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No media items available. Upload some media first."})]})})})]})]})]})]})]})}export{ie as default};
