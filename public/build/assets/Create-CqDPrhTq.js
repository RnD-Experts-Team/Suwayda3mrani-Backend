import{j as e,u as M,r as y,H as A}from"./app-kFe3W52v.js";import{A as P}from"./app-layout-CeMAjsTz.js";import{c as T,b as F,d as V,B as _}from"./button-CjP7rKh3.js";import{I as c}from"./input-BgsbDBET.js";import{L as l}from"./label-XQbIVQar.js";import{T as b}from"./textarea-Dhir0lO2.js";import{S as E,a as R,b as B,c as G,d as w}from"./select-oXQEokxY.js";import{S as O}from"./switch-AC4QBrbB.js";import{C as u,a as h,b as g,c as j}from"./card-C2Q4dehj.js";import{I as v}from"./image-g7Ln0GRp.js";import{V as C}from"./video-BjFbVYHU.js";import{U as m}from"./upload-CvK2Jdnd.js";import{L as z}from"./link-I3w9hqxo.js";import{D as H}from"./database-CHnMa7MZ.js";/* empty css            */import"./index-DM-IqmN2.js";import"./index-DGqGJZ-A.js";import"./index-CMYKVjK-.js";import"./check-tbrJmj50.js";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],J=T("CircleAlert",q),K=V("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-background text-foreground",destructive:"text-destructive-foreground [&>svg]:text-current *:data-[slot=alert-description]:text-destructive-foreground/80"}},defaultVariants:{variant:"default"}});function W({className:t,variant:r,...x}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:F(K({variant:r}),t),...x})}function X({className:t,...r}){return e.jsx("div",{"data-slot":"alert-description",className:F("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...r})}const Y=[{title:"Media",href:"/media"},{title:"Create",href:"/media/create"}];function ge(){const{data:t,setData:r,post:x,processing:f,errors:a}=M({type:"",source_type:"",file:null,google_drive_id:"",external_url:"",thumbnail:null,title_en:"",title_ar:"",description_en:"",description_ar:"",source_url:"",featured_on_home:!1}),[n,N]=y.useState(null),[o,k]=y.useState(null),S=s=>{const i=s.target.files?.[0];if(i)if(r("file",i),i.type.startsWith("image/")){const d=new FileReader;d.onload=p=>N(p.target?.result),d.readAsDataURL(i)}else N(null)},D=s=>{const i=s.target.files?.[0];if(i){r("thumbnail",i);const d=new FileReader;d.onload=p=>k(p.target?.result),d.readAsDataURL(i)}},U=s=>{s.preventDefault(),x("/media")},I=s=>{switch(s){case"upload":return e.jsx(m,{className:"w-5 h-5"});case"google_drive":return e.jsx(H,{className:"w-5 h-5"});case"external_link":return e.jsx(z,{className:"w-5 h-5"});default:return null}},L=s=>{switch(s){case"upload":return"Upload files directly to the server";case"google_drive":return"Use Google Drive file ID for sharing";case"external_link":return"Link to external media sources";default:return""}};return e.jsxs(P,{breadcrumbs:Y,children:[e.jsx(A,{title:"Create Media"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:[e.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-between sm:items-center",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Add New Media"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Upload images or videos to your media library"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 max-w-6xl",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(u,{className:"overflow-hidden",children:[e.jsx(h,{className:"px-6 py-4 border-b",children:e.jsx(g,{className:"text-lg font-semibold",children:"Media Details"})}),e.jsx(j,{className:"p-6",children:e.jsxs("form",{onSubmit:U,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{children:"Media Type"}),e.jsxs(E,{value:t.type,onValueChange:s=>r("type",s),children:[e.jsx(R,{className:a.type?"border-destructive":"",children:e.jsx(B,{placeholder:"Select media type"})}),e.jsxs(G,{children:[e.jsx(w,{value:"image",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(v,{className:"w-4 h-4"}),"Image"]})}),e.jsx(w,{value:"video",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(C,{className:"w-4 h-4"}),"Video"]})})]})]}),a.type&&e.jsx("p",{className:"text-sm text-destructive",children:a.type})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{children:"Source Type"}),e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-3",children:["upload","google_drive","external_link"].map(s=>e.jsx("button",{type:"button",onClick:()=>r("source_type",s),className:`p-4 border rounded-lg transition-colors ${t.source_type===s?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:e.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[I(s),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm capitalize",children:s.replace("_"," ")}),e.jsx("div",{className:"text-xs text-muted-foreground",children:L(s)})]})]})},s))}),a.source_type&&e.jsx("p",{className:"text-sm text-destructive",children:a.source_type})]}),t.source_type==="upload"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{children:"Upload File"}),e.jsx("div",{className:"border-2 border-dashed border-border rounded-lg p-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[n?e.jsxs("div",{className:"space-y-3",children:[e.jsx("img",{src:n,alt:"Preview",className:"mx-auto max-h-32 rounded"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:t.file?.name})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(m,{className:"mx-auto h-8 w-8 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Click to upload or drag and drop"}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Images: JPG, PNG, GIF (max 50MB)",e.jsx("br",{}),"Videos: MP4, AVI, MOV (max 50MB)"]})]})]}),e.jsx("input",{type:"file",onChange:S,accept:t.type==="image"?"image/*":"video/*",className:"sr-only",id:"file-upload"}),e.jsxs(l,{htmlFor:"file-upload",className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:[e.jsx(m,{className:"w-4 h-4"}),"Choose File"]})]})}),a.file&&e.jsx("p",{className:"text-sm text-destructive",children:a.file})]}),t.source_type==="google_drive"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"google_drive_id",children:"Google Drive File ID"}),e.jsx(c,{id:"google_drive_id",type:"text",placeholder:"1BxiMVs0XRA5nFMdKvBdBZjgmUUqptlbs74OgvE2upms",value:t.google_drive_id,onChange:s=>r("google_drive_id",s.target.value),className:a.google_drive_id?"border-destructive":""}),e.jsxs(W,{children:[e.jsx(J,{className:"h-4 w-4"}),e.jsx(X,{children:"Extract the file ID from the Google Drive share URL. Make sure the file is publicly accessible."})]}),a.google_drive_id&&e.jsx("p",{className:"text-sm text-destructive",children:a.google_drive_id})]}),t.source_type==="external_link"&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"external_url",children:"External URL"}),e.jsx(c,{id:"external_url",type:"url",placeholder:"https://example.com/image.jpg",value:t.external_url,onChange:s=>r("external_url",s.target.value),className:a.external_url?"border-destructive":""}),a.external_url&&e.jsx("p",{className:"text-sm text-destructive",children:a.external_url})]}),(t.type==="video"||t.source_type!=="upload")&&e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{children:"Thumbnail (Optional)"}),e.jsx("div",{className:"border border-border rounded-lg p-4",children:e.jsxs("div",{className:"text-center space-y-3",children:[o?e.jsxs("div",{className:"space-y-2",children:[e.jsx("img",{src:o,alt:"Thumbnail Preview",className:"mx-auto max-h-20 rounded"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:t.thumbnail?.name})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(v,{className:"mx-auto h-6 w-6 text-muted-foreground"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload a thumbnail image"})]}),e.jsx("input",{type:"file",onChange:D,accept:"image/*",className:"sr-only",id:"thumbnail-upload"}),e.jsxs(l,{htmlFor:"thumbnail-upload",className:"cursor-pointer inline-flex items-center gap-2 px-3 py-1 bg-secondary text-secondary-foreground rounded hover:bg-secondary/80 text-sm",children:[e.jsx(m,{className:"w-3 h-3"}),"Choose Thumbnail"]})]})}),a.thumbnail&&e.jsx("p",{className:"text-sm text-destructive",children:a.thumbnail})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wide",children:"English Content"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"title_en",children:"Title"}),e.jsx(c,{id:"title_en",type:"text",placeholder:"Enter English title",value:t.title_en,onChange:s=>r("title_en",s.target.value),className:a.title_en?"border-destructive":""}),a.title_en&&e.jsx("p",{className:"text-sm text-destructive",children:a.title_en})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"description_en",children:"Description (Optional)"}),e.jsx(b,{id:"description_en",placeholder:"Enter English description",value:t.description_en,onChange:s=>r("description_en",s.target.value),rows:3})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wide",children:"Arabic Content"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"title_ar",children:"Title"}),e.jsx(c,{id:"title_ar",type:"text",placeholder:"أدخل العنوان بالعربية",value:t.title_ar,onChange:s=>r("title_ar",s.target.value),className:a.title_ar?"border-destructive":"",dir:"rtl"}),a.title_ar&&e.jsx("p",{className:"text-sm text-destructive",children:a.title_ar})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"description_ar",children:"Description (Optional)"}),e.jsx(b,{id:"description_ar",placeholder:"أدخل الوصف بالعربية",value:t.description_ar,onChange:s=>r("description_ar",s.target.value),rows:3,dir:"rtl"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"source_url",children:"Source URL (Optional)"}),e.jsx(c,{id:"source_url",type:"url",placeholder:"https://example.com/original-source",value:t.source_url,onChange:s=>r("source_url",s.target.value)}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Link to the original source for attribution purposes"})]}),e.jsxs("div",{className:"flex items-center gap-3 py-2",children:[e.jsx(O,{checked:t.featured_on_home,onCheckedChange:s=>r("featured_on_home",s)}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium leading-none",children:"Featured on Home"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Show this media in the home page gallery"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(_,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"}),e.jsx(_,{type:"submit",disabled:f,className:"gap-2",children:f?"Creating...":"Create Media"})]})]})})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(u,{children:[e.jsx(h,{className:"px-6 py-4 border-b",children:e.jsx(g,{className:"text-lg font-semibold",children:"Preview"})}),e.jsx(j,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-video bg-muted rounded-lg flex items-center justify-center",children:n||o?e.jsx("img",{src:n||o||"",alt:"Preview",className:"w-full h-full object-cover rounded-lg"}):e.jsxs("div",{className:"text-center text-muted-foreground",children:[t.type==="video"?e.jsx(C,{className:"mx-auto w-8 h-8 mb-2"}):e.jsx(v,{className:"mx-auto w-8 h-8 mb-2"}),e.jsx("p",{className:"text-sm",children:"No preview available"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"font-medium text-sm",children:t.title_en||"Title will appear here"}),t.description_en&&e.jsx("p",{className:"text-xs text-muted-foreground",children:t.description_en})]}),e.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Type:"}),e.jsx("span",{className:"capitalize",children:t.type||"Not selected"})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Source:"}),e.jsx("span",{className:"capitalize",children:t.source_type?.replace("_"," ")||"Not selected"})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Featured:"}),e.jsx("span",{children:t.featured_on_home?"Yes":"No"})]})]})]})})]}),e.jsxs(u,{children:[e.jsx(h,{className:"px-6 py-4 border-b",children:e.jsx(g,{className:"text-lg font-semibold",children:"Tips"})}),e.jsx(j,{className:"p-6",children:e.jsxs("div",{className:"space-y-3 text-sm text-muted-foreground",children:[e.jsx("p",{children:"• Use descriptive titles in both languages"}),e.jsx("p",{children:"• For Google Drive files, ensure they're publicly accessible"}),e.jsx("p",{children:"• Upload thumbnails for videos for better previews"}),e.jsx("p",{children:"• Featured media appears on the home page"}),e.jsx("p",{children:"• Include source URLs for proper attribution"})]})})]})]})]})]})]})}export{ge as default};
