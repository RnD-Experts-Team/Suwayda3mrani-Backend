import{r as n,a as x,j as e,H as B,L as c}from"./app-BkbSDsWh.js";import{A as F}from"./app-layout-DG9v_BGE.js";import{B as a}from"./button-DzrUK_IZ.js";import{I as H}from"./input-DG1xDc8h.js";import{B as w}from"./badge-DogsWml0.js";import{C as h,a as E,b as q,c as u}from"./card-0jqDjIyB.js";import{A as G,a as J,b as K,c as M,d as Q,e as U,f as V,g as W}from"./alert-dialog-BZnKNnhP.js";import{P as X,a as Y,b as Z,c as ee,d as se,e as te}from"./pagination-C1ljDHmF.js";import{P as b}from"./plus-Bty5jKH4.js";import{S as f}from"./search-wgLu5qRP.js";import{R as A}from"./rotate-ccw-eoMzD72Z.js";import{T as S}from"./tag-h_lDv_Jp.js";import{H as ae}from"./hash-CZzP-Sqy.js";import{S as re}from"./square-pen-7cJ8vJDX.js";import{T as le}from"./trash-2-DKH-3nKb.js";/* empty css            */import"./index-DmrOjizl.js";import"./index-BST8kMAH.js";const ie=[{title:"Aid Organizations",href:"/aid-organizations"},{title:"Categories",href:"/aid-categories"}];function Ae(z){const{categories:t=null,filters:D=null}=z||{},r={data:t?.data||[],links:t?.links||[],meta:{current_page:t?.current_page||1,last_page:t?.last_page||1,per_page:t?.per_page||15,total:t?.total||0,from:t?.from||null,to:t?.to||null}},_=D||{},[i,j]=n.useState(_.search||""),[T,d]=n.useState(!1),[p,g]=n.useState(null),[P,I]=n.useState(!0);n.useEffect(()=>{if(P){I(!1);return}const s=setTimeout(()=>{N()},300);return()=>clearTimeout(s)},[i]);const N=()=>{const s={};i?.trim()&&(s.search=i.trim()),x.get("/aid-categories",Object.keys(s).length>0?s:{},{preserveState:!0,preserveScroll:!0})},v=()=>{j(""),x.get("/aid-categories")},L=s=>{g(s),d(!0)},O=()=>{p&&x.delete(`/aid-categories/${p}`),d(!1),g(null)},l=!!i?.trim(),m=r.meta.total===0,o=r.meta.total,C=r.meta.from,y=r.meta.to,R=()=>m&&!l?"No categories found. Create your first category to get started.":m&&l?"No results match your current search.":C&&y?`Showing ${C} to ${y} of ${o} results`:o>0?`${o} categor${o!==1?"ies":"y"}`:"Loading categories...",$=()=>e.jsx(h,{className:"overflow-hidden",children:e.jsx(u,{className:"py-16",children:e.jsxs("div",{className:"text-center space-y-4",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-muted rounded-full flex items-center justify-center",children:e.jsx(S,{className:"w-8 h-8 text-muted-foreground"})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("h3",{className:"text-lg font-semibold",children:l?"No categories found":"No categories yet"}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:l?"Try adjusting your search to find what you're looking for.":"Create your first aid category to organize organizations by type."})]}),e.jsxs("div",{className:"flex justify-center gap-2 pt-4",children:[l&&e.jsxs(a,{variant:"outline",onClick:v,className:"gap-2",children:[e.jsx(A,{className:"w-4 h-4"}),"Clear Search"]}),e.jsx(c,{href:"/aid-categories/create",children:e.jsxs(a,{className:"gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Create Category"]})})]})]})})});return e.jsxs(F,{breadcrumbs:ie,children:[e.jsx(B,{title:"Aid Categories"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:[e.jsxs("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-between sm:items-center",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Aid Categories"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:R()})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{href:"/aid-organizations",children:e.jsx(a,{variant:"outline",size:"sm",className:"gap-2",children:"← Back to Organizations"})}),e.jsx(c,{href:"/aid-categories/create",children:e.jsxs(a,{size:"sm",className:"gap-2",children:[e.jsx(b,{className:"w-4 h-4"}),"Create Category"]})})]})]}),e.jsxs(h,{className:"overflow-hidden",children:[e.jsx(E,{className:"px-6 py-4 border-b",children:e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(f,{className:"w-4 h-4 text-muted-foreground"}),e.jsx(q,{className:"text-lg font-semibold",children:"Search Categories"})]}),l&&e.jsxs(a,{variant:"outline",size:"sm",onClick:v,className:"gap-2",children:[e.jsx(A,{className:"w-4 h-4"}),"Clear Search"]})]})}),e.jsx(u,{className:"p-6",children:e.jsxs("div",{className:"flex gap-4",children:[e.jsxs("div",{className:"flex-1 relative",children:[e.jsx(f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(H,{type:"text",placeholder:"Search categories...",value:i,onChange:s=>j(s.target.value),className:"pl-10"})]}),e.jsxs(a,{onClick:N,className:"gap-2",children:[e.jsx(f,{className:"w-4 h-4"}),"Search"]})]})})]}),m?e.jsx($,{}):e.jsxs(e.Fragment,{children:[e.jsx(h,{className:"overflow-hidden",children:e.jsx(u,{className:"p-0",children:e.jsx("div",{className:"overflow-x-auto",children:e.jsxs("table",{className:"w-full",children:[e.jsx("thead",{className:"border-b bg-muted/50",children:e.jsxs("tr",{children:[e.jsx("th",{className:"text-left p-4 font-medium text-sm",children:"Category"}),e.jsx("th",{className:"text-left p-4 font-medium text-sm",children:"Slug"}),e.jsx("th",{className:"text-left p-4 font-medium text-sm",children:"Organizations"}),e.jsx("th",{className:"text-left p-4 font-medium text-sm",children:"Status"}),e.jsx("th",{className:"text-right p-4 font-medium text-sm",children:"Actions"})]})}),e.jsx("tbody",{className:"divide-y",children:r.data.map(s=>e.jsxs("tr",{className:"hover:bg-muted/50",children:[e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 rounded-full flex items-center justify-center",style:{backgroundColor:s.color||"#6b7280",color:"white"},children:s.icon?e.jsx("span",{className:"text-xs",children:s.icon}):e.jsx(S,{className:"w-4 h-4"})}),e.jsxs("div",{children:[e.jsx("p",{className:"font-medium text-sm",children:s.translated_content.name.en}),e.jsx("p",{className:"text-xs text-muted-foreground",dir:"rtl",children:s.translated_content.name.ar})]})]})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(ae,{className:"w-3 h-3 text-muted-foreground"}),e.jsx("span",{className:"font-mono text-sm text-muted-foreground",children:s.slug})]})}),e.jsx("td",{className:"p-4",children:e.jsxs(w,{variant:"secondary",className:"gap-1",children:[e.jsx("span",{children:s.organizations_count}),e.jsxs("span",{children:["organization",s.organizations_count!==1?"s":""]})]})}),e.jsx("td",{className:"p-4",children:e.jsx(w,{variant:s.is_active?"default":"secondary",children:s.is_active?"Active":"Inactive"})}),e.jsx("td",{className:"p-4",children:e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsx(c,{href:`/aid-categories/${s.id}/edit`,children:e.jsx(a,{variant:"outline",size:"sm",className:"h-8 w-8 p-0",children:e.jsx(re,{className:"w-4 h-4"})})}),e.jsx(a,{variant:"outline",size:"sm",onClick:()=>L(s.id),disabled:s.organizations_count>0,className:"h-8 w-8 p-0 text-destructive hover:text-destructive disabled:opacity-50",title:s.organizations_count>0?"Cannot delete category with organizations":"Delete category",children:e.jsx(le,{className:"w-4 h-4"})})]})})]},s.id))})]})})})}),r.meta.last_page>1&&e.jsx("div",{className:"flex justify-center",children:e.jsx(X,{children:e.jsx(Y,{children:r.links.map((s,k)=>e.jsx(Z,{children:s.label==="&laquo; Previous"?e.jsx(ee,{href:s.url||"#",className:s.url?"":"pointer-events-none opacity-50"}):s.label==="Next &raquo;"?e.jsx(se,{href:s.url||"#",className:s.url?"":"pointer-events-none opacity-50"}):e.jsx(te,{href:s.url||"#",isActive:s.active,className:s.url?"":"pointer-events-none opacity-50",children:s.label})},k))})})})]})]}),e.jsx(G,{open:T,onOpenChange:d,children:e.jsxs(J,{children:[e.jsxs(K,{children:[e.jsx(M,{children:"Are you sure?"}),e.jsx(Q,{children:"This action cannot be undone. This will permanently delete the category and all associated content."})]}),e.jsxs(U,{children:[e.jsx(V,{children:"Cancel"}),e.jsx(W,{onClick:O,className:"bg-destructive text-destructive-foreground hover:bg-destructive/90",children:"Delete"})]})]})})]})}export{Ae as default};
