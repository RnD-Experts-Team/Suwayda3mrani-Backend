import{u as U,r as v,j as e,H as D}from"./app-CrR2e6si.js";import{A as R,X as T}from"./app-layout-BlBsKGdN.js";import{B as j}from"./button-TAkYr07m.js";import{I as o}from"./input-DyR6yKAK.js";import{L as l}from"./label-CqnHdu-e.js";import{T as b}from"./textarea-BSwCwaMA.js";import{S as I}from"./switch-DBf-5lju.js";import{C as m,a as x,b as p,c as h}from"./card-C4Ze9f0h.js";import{B as _}from"./badge-xFiofwbL.js";import{C as P}from"./checkbox--b9gynK0.js";import{B as y,U as w,M as C}from"./users-cMZjIuqD.js";import{U as k}from"./upload-CRwMzx92.js";import{E as z}from"./external-link-BqZ6Sbhq.js";import{T as B}from"./tag-o0kQV7oT.js";/* empty css            */import"./index-DIhEDuut.js";import"./index-Cp7DFzk1.js";import"./index-MGpkUcMS.js";import"./check-D3rtSHKw.js";const $=[{title:"Aid Organizations",href:"/aid-organizations"},{title:"Create",href:"/aid-organizations/create"}];function le({categories:N}){const{data:a,setData:r,post:O,processing:f,errors:t}=U({name_en:"",name_ar:"",description_en:"",description_ar:"",background_image:null,website_url:"",contact_url:"",type:"organizations",is_featured:!1,category_ids:[]}),[d,F]=v.useState(null),[c,u]=v.useState([]),S=s=>{const i=s.target.files?.[0];if(i){r("background_image",i);const n=new FileReader;n.onload=g=>F(g.target?.result),n.readAsDataURL(i)}},E=(s,i)=>{i?(u(n=>[...n,s]),r("category_ids",[...a.category_ids,s.id])):(u(n=>n.filter(g=>g.id!==s.id)),r("category_ids",a.category_ids.filter(n=>n!==s.id)))},A=s=>{u(i=>i.filter(n=>n.id!==s)),r("category_ids",a.category_ids.filter(i=>i!==s))},L=s=>{s.preventDefault(),O("/aid-organizations")};return e.jsxs(R,{breadcrumbs:$,children:[e.jsx(D,{title:"Create Aid Organization"}),e.jsxs("div",{className:"flex h-full flex-1 flex-col gap-4 rounded-xl p-4 overflow-x-auto",children:[e.jsx("div",{className:"flex flex-col gap-4 sm:flex-row sm:justify-between sm:items-center",children:e.jsxs("div",{className:"space-y-1",children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Create New Aid Organization"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Add a new organization or initiative"})]})}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6 max-w-7xl",children:[e.jsx("div",{className:"lg:col-span-2",children:e.jsxs(m,{className:"overflow-hidden",children:[e.jsx(x,{className:"px-6 py-4 border-b",children:e.jsx(p,{className:"text-lg font-semibold",children:"Organization Details"})}),e.jsx(h,{className:"p-6",children:e.jsxs("form",{onSubmit:L,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{children:"Organization Type"}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3",children:[e.jsx("button",{type:"button",onClick:()=>r("type","organizations"),className:`p-4 border rounded-lg transition-colors ${a.type==="organizations"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:e.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[e.jsx(y,{className:"w-6 h-6"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:"Organizations"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Formal aid organizations"})]})]})}),e.jsx("button",{type:"button",onClick:()=>r("type","initiatives"),className:`p-4 border rounded-lg transition-colors ${a.type==="initiatives"?"border-primary bg-primary/5":"border-border hover:border-primary/50"}`,children:e.jsxs("div",{className:"flex flex-col items-center gap-2 text-center",children:[e.jsx(w,{className:"w-6 h-6"}),e.jsxs("div",{children:[e.jsx("div",{className:"font-medium text-sm",children:"Initiatives"}),e.jsx("div",{className:"text-xs text-muted-foreground",children:"Community initiatives"})]})]})})]}),t.type&&e.jsx("p",{className:"text-sm text-destructive",children:t.type})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{children:"Background Image (Optional)"}),e.jsx("div",{className:"border-2 border-dashed border-border rounded-lg p-6",children:e.jsxs("div",{className:"text-center space-y-4",children:[d?e.jsxs("div",{className:"space-y-3",children:[e.jsx("img",{src:d,alt:"Background preview",className:"mx-auto max-h-32 rounded"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.background_image?.name})]}):e.jsxs("div",{className:"space-y-2",children:[e.jsx(k,{className:"mx-auto h-8 w-8 text-muted-foreground"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:"Click to upload background image"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"JPG, PNG, GIF (max 5MB)"})]})]}),e.jsx("input",{type:"file",onChange:S,accept:"image/*",className:"sr-only",id:"background-upload"}),e.jsxs(l,{htmlFor:"background-upload",className:"cursor-pointer inline-flex items-center gap-2 px-4 py-2 bg-primary text-primary-foreground rounded-md hover:bg-primary/90",children:[e.jsx(k,{className:"w-4 h-4"}),"Choose Background"]})]})}),t.background_image&&e.jsx("p",{className:"text-sm text-destructive",children:t.background_image})]}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wide",children:"Content"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"English Content"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"name_en",children:"Name *"}),e.jsx(o,{id:"name_en",type:"text",placeholder:"Enter English name",value:a.name_en,onChange:s=>r("name_en",s.target.value),className:t.name_en?"border-destructive":""}),t.name_en&&e.jsx("p",{className:"text-sm text-destructive",children:t.name_en})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"description_en",children:"Description *"}),e.jsx(b,{id:"description_en",placeholder:"Enter English description",value:a.description_en,onChange:s=>r("description_en",s.target.value),rows:6,className:t.description_en?"border-destructive":""}),t.description_en&&e.jsx("p",{className:"text-sm text-destructive",children:t.description_en})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h4",{className:"font-medium text-sm text-muted-foreground",children:"Arabic Content"}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"name_ar",children:"Name *"}),e.jsx(o,{id:"name_ar",type:"text",placeholder:"أدخل الاسم بالعربية",value:a.name_ar,onChange:s=>r("name_ar",s.target.value),className:t.name_ar?"border-destructive":"",dir:"rtl"}),t.name_ar&&e.jsx("p",{className:"text-sm text-destructive",children:t.name_ar})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"description_ar",children:"Description *"}),e.jsx(b,{id:"description_ar",placeholder:"أدخل الوصف بالعربية",value:a.description_ar,onChange:s=>r("description_ar",s.target.value),rows:6,className:t.description_ar?"border-destructive":"",dir:"rtl"}),t.description_ar&&e.jsx("p",{className:"text-sm text-destructive",children:t.description_ar})]})]})]})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsx("h3",{className:"font-semibold text-sm text-muted-foreground uppercase tracking-wide",children:"External Links"}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"website_url",children:"Website URL (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(o,{id:"website_url",type:"url",placeholder:"https://organization-website.com",value:a.website_url,onChange:s=>r("website_url",s.target.value),className:`pl-10 ${t.website_url?"border-destructive":""}`})]}),t.website_url&&e.jsx("p",{className:"text-sm text-destructive",children:t.website_url})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(l,{htmlFor:"contact_url",children:"Contact URL (Optional)"}),e.jsxs("div",{className:"relative",children:[e.jsx(C,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground w-4 h-4"}),e.jsx(o,{id:"contact_url",type:"url",placeholder:"mailto:contact@org.com or contact form URL",value:a.contact_url,onChange:s=>r("contact_url",s.target.value),className:`pl-10 ${t.contact_url?"border-destructive":""}`})]}),t.contact_url&&e.jsx("p",{className:"text-sm text-destructive",children:t.contact_url})]})]})]}),e.jsxs("div",{className:"flex items-center gap-3 py-2",children:[e.jsx(I,{checked:a.is_featured,onCheckedChange:s=>r("is_featured",s)}),e.jsxs("div",{children:[e.jsx(l,{className:"text-sm font-medium leading-none",children:"Featured Organization"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Show this organization on the home page"})]})]}),e.jsxs("div",{className:"flex justify-end gap-3 pt-4",children:[e.jsx(j,{type:"button",variant:"outline",onClick:()=>window.history.back(),children:"Cancel"}),e.jsx(j,{type:"submit",disabled:f,className:"gap-2",children:f?"Creating...":"Create Organization"})]})]})})]})}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(m,{children:[e.jsx(x,{className:"px-6 py-4 border-b",children:e.jsx(p,{className:"text-lg font-semibold",children:"Preview"})}),e.jsx(h,{className:"p-6",children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"aspect-[4/3] bg-muted rounded-lg flex items-center justify-center",children:d?e.jsx("img",{src:d,alt:"Background preview",className:"w-full h-full object-cover rounded-lg"}):e.jsxs("div",{className:"text-center text-muted-foreground",children:[a.type==="initiatives"?e.jsx(w,{className:"mx-auto w-8 h-8 mb-2"}):e.jsx(y,{className:"mx-auto w-8 h-8 mb-2"}),e.jsx("p",{className:"text-sm",children:"No background image"})]})}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(_,{variant:"outline",className:"text-xs capitalize",children:a.type==="organizations"?"Organization":"Initiative"}),e.jsx("h3",{className:"font-medium text-sm",children:a.name_en||"Organization name will appear here"}),a.description_en&&e.jsx("p",{className:"text-xs text-muted-foreground line-clamp-3",children:a.description_en})]}),(a.website_url||a.contact_url)&&e.jsxs("div",{className:"flex gap-1 pt-2 border-t",children:[a.website_url&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(z,{className:"w-3 h-3"}),"Website"]}),a.contact_url&&e.jsxs("div",{className:"flex items-center gap-1 text-xs text-muted-foreground",children:[e.jsx(C,{className:"w-3 h-3"}),"Contact"]})]}),e.jsxs("div",{className:"space-y-2 pt-2 border-t",children:[e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Featured:"}),e.jsx("span",{children:a.is_featured?"Yes":"No"})]}),e.jsxs("div",{className:"flex justify-between text-xs",children:[e.jsx("span",{className:"text-muted-foreground",children:"Categories:"}),e.jsxs("span",{children:[c.length," selected"]})]})]})]})})]}),c.length>0&&e.jsxs(m,{children:[e.jsx(x,{className:"px-6 py-4 border-b",children:e.jsxs(p,{className:"text-lg font-semibold",children:["Selected Categories (",c.length,")"]})}),e.jsx(h,{className:"p-6",children:e.jsx("div",{className:"space-y-2",children:c.map(s=>e.jsxs("div",{className:"flex items-center justify-between p-2 border rounded",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-sm font-medium",children:s.name}),e.jsx("p",{className:"text-xs text-muted-foreground",children:s.slug})]}),e.jsx(j,{type:"button",variant:"outline",size:"sm",onClick:()=>A(s.id),className:"h-8 w-8 p-0",children:e.jsx(T,{className:"w-4 h-4"})})]},s.id))})})]}),e.jsxs(m,{children:[e.jsxs(x,{className:"px-6 py-4 border-b",children:[e.jsxs(p,{className:"text-lg font-semibold flex items-center gap-2",children:[e.jsx(B,{className:"w-4 h-4"}),"Categories"]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Select categories that apply to this organization"})]}),e.jsx(h,{className:"p-6",children:e.jsx("div",{className:"space-y-3",children:N.length>0?N.map(s=>e.jsxs("div",{className:"flex items-center gap-3 p-2",children:[e.jsx(P,{checked:a.category_ids.includes(s.id),onCheckedChange:i=>E(s,!!i)}),e.jsxs("div",{className:"flex-1",children:[e.jsx("p",{className:"text-sm font-medium",children:s.name}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(_,{variant:"outline",className:"text-xs",children:s.slug}),e.jsx("span",{className:"text-xs text-muted-foreground",children:s.name_ar})]})]})]},s.id)):e.jsxs("div",{className:"text-center py-8",children:[e.jsx(B,{className:"mx-auto w-8 h-8 text-muted-foreground mb-2"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No categories available. Create some categories first."})]})})})]})]})]})]})]})}export{le as default};
